<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>üèîÔ∏è Snow Machine Queenstown 2026 ‚Äì Where to Stay</title>
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Nunito', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      background: linear-gradient(180deg, #faf8f5 0%, #f0ebe3 100%);
      color: #3d3a36;
      line-height: 1.7;
      min-height: 100vh;
    }
    
    header {
      background: linear-gradient(135deg, #5c8a6e, #7ba38a, #a8c5b5);
      padding: 3rem 1.5rem;
      text-align: center;
      border-bottom: 4px solid #4a7560;
    }
    
    header h1 {
      font-size: 2.5rem;
      font-weight: 800;
      color: #fff;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
      margin-bottom: 0.5rem;
    }
    
    header p {
      color: #e8f0eb;
      font-size: 1.1rem;
      font-weight: 600;
    }
    
    .dates-banner {
      background: #4a7560;
      color: #fff;
      padding: 0.75rem;
      text-align: center;
      font-weight: 700;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 2rem 1.5rem;
    }
    
    .intro {
      background: #fff;
      border-radius: 16px;
      padding: 2rem;
      margin-bottom: 2rem;
      box-shadow: 0 4px 20px rgba(0,0,0,0.06);
      border-left: 5px solid #7ba38a;
    }
    
    .intro h2 {
      color: #5c8a6e;
      margin-bottom: 0.5rem;
    }
    
    .controls {
      display: flex;
      gap: 0.75rem;
      margin-bottom: 2rem;
      flex-wrap: wrap;
      align-items: center;
    }
    
    .view-toggle {
      display: flex;
      gap: 0.5rem;
      background: #e8e2d9;
      padding: 0.5rem;
      border-radius: 12px;
    }
    
    .view-toggle button {
      padding: 0.75rem 1.5rem;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      font-family: inherit;
      font-weight: 700;
      font-size: 1rem;
      transition: all 0.3s ease;
      background: transparent;
      color: #6b6560;
    }
    
    .view-toggle button.active {
      background: #5c8a6e;
      color: #fff;
      box-shadow: 0 4px 12px rgba(92, 138, 110, 0.3);
    }
    
    .view-toggle button:hover:not(.active) {
      background: rgba(92, 138, 110, 0.2);
    }
    
    .reset-btn {
      padding: 0.75rem 1.25rem;
      border: 2px solid #d4a5a5;
      border-radius: 10px;
      cursor: pointer;
      font-family: inherit;
      font-weight: 700;
      font-size: 0.9rem;
      background: #fdf8f8;
      color: #a85454;
      transition: all 0.3s ease;
    }
    
    .reset-btn:hover {
      background: #a85454;
      color: #fff;
    }
    
    .section-header {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      margin: 2.5rem 0 1.5rem 0;
      padding-bottom: 0.75rem;
      border-bottom: 3px solid #d4cdc3;
    }
    
    .section-header h2 {
      font-size: 1.5rem;
      color: #4a4540;
    }
    
    .section-emoji {
      font-size: 2rem;
    }
    
    .table-view {
      display: none;
      overflow-x: auto;
    }
    
    .table-view.active {
      display: block;
    }
    
    table {
      width: 100%;
      border-collapse: collapse;
      background: #fff;
      border-radius: 16px;
      overflow: hidden;
      box-shadow: 0 4px 20px rgba(0,0,0,0.06);
      margin-bottom: 2rem;
    }
    
    th {
      background: #5c8a6e;
      color: #fff;
      padding: 1rem;
      text-align: left;
      font-weight: 700;
    }
    
    td {
      padding: 1rem;
      border-bottom: 1px solid #e8e2d9;
      vertical-align: middle;
    }
    
    tr:last-child td {
      border-bottom: none;
    }
    
    tr:hover {
      background: #f8f6f3;
    }
    
    tr.top-pick {
      background: linear-gradient(90deg, #e8f5ed, #f8f6f3);
    }
    
    tr.top-pick td:first-child {
      border-left: 4px solid #5c8a6e;
    }
    
    .table-tag {
      display: inline-block;
      background: #e8f0eb;
      color: #4a7560;
      padding: 0.25rem 0.6rem;
      border-radius: 20px;
      font-size: 0.75rem;
      font-weight: 700;
      margin: 0.15rem;
    }
    
    .top-badge {
      display: inline-block;
      background: linear-gradient(135deg, #5c8a6e, #7ba38a);
      color: #fff;
      padding: 0.25rem 0.6rem;
      border-radius: 20px;
      font-size: 0.7rem;
      font-weight: 800;
      margin-left: 0.5rem;
      animation: pulse 2s infinite;
    }
    
    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.7; }
    }
    
    .price-cell {
      font-weight: 700;
      color: #8b7355;
    }
    
    .walk-time {
      color: #5c8a6e;
      font-weight: 600;
    }
    
    .vote-cell {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    
    .card-view {
      display: none;
    }
    
    .card-view.active {
      display: block;
    }
    
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 1.5rem;
      margin-bottom: 2rem;
    }
    
    .card {
      background: #fff;
      border-radius: 20px;
      padding: 1.5rem;
      box-shadow: 0 4px 20px rgba(0,0,0,0.06);
      border: 2px solid transparent;
      transition: all 0.3s ease;
      position: relative;
    }
    
    .card:hover {
      border-color: #7ba38a;
      transform: translateY(-4px);
      box-shadow: 0 12px 32px rgba(0,0,0,0.1);
    }
    
    .card.top-pick {
      border-color: #5c8a6e;
      box-shadow: 0 8px 32px rgba(92, 138, 110, 0.25);
    }
    
    .card-badge {
      position: absolute;
      top: -10px;
      right: 16px;
      background: linear-gradient(135deg, #5c8a6e, #7ba38a);
      color: #fff;
      padding: 0.4rem 0.8rem;
      border-radius: 20px;
      font-size: 0.75rem;
      font-weight: 800;
      box-shadow: 0 4px 12px rgba(92, 138, 110, 0.4);
    }
    
    .card-header {
      display: flex;
      align-items: flex-start;
      gap: 0.75rem;
      margin-bottom: 0.75rem;
    }
    
    .card-emoji {
      font-size: 2rem;
    }
    
    .card h3 {
      color: #3d3a36;
      font-size: 1.1rem;
      margin-bottom: 0.25rem;
    }
    
    .card-meta {
      font-size: 0.85rem;
      color: #6b6560;
      margin-bottom: 0.5rem;
    }
    
    .card-meta .price-tag {
      color: #8b7355;
      font-weight: 700;
    }
    
    .card-meta .walk-tag {
      color: #5c8a6e;
      font-weight: 600;
    }
    
    .tags {
      display: flex;
      flex-wrap: wrap;
      gap: 0.4rem;
      margin-bottom: 0.75rem;
    }
    
    .tag {
      display: inline-block;
      background: #e8f0eb;
      color: #4a7560;
      padding: 0.25rem 0.6rem;
      border-radius: 20px;
      font-size: 0.75rem;
      font-weight: 700;
    }
    
    .tag.budget { background: #e8f0eb; color: #4a7560; }
    .tag.mid { background: #f5ebe0; color: #8b7355; }
    .tag.premium { background: #f0e8f5; color: #7b5c8a; }
    .tag.luxury { background: #f5e8e8; color: #8a5c5c; }
    
    .vote {
      margin-top: 1rem;
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }
    
    .vote button, table button {
      background: linear-gradient(135deg, #5c8a6e, #7ba38a);
      border: none;
      color: #fff;
      padding: 0.5rem 1rem;
      border-radius: 25px;
      cursor: pointer;
      font-family: inherit;
      font-weight: 700;
      font-size: 0.85rem;
      transition: all 0.3s ease;
    }
    
    .vote button:hover, table button:hover {
      transform: scale(1.05);
      box-shadow: 0 6px 20px rgba(92, 138, 110, 0.4);
    }
    
    .counter {
      font-size: 1.2rem;
      font-weight: 800;
      color: #5c8a6e;
      min-width: 24px;
    }
    
    .cta {
      background: linear-gradient(135deg, #5c8a6e, #4a7560);
      border-radius: 20px;
      padding: 2.5rem;
      color: #fff;
      text-align: center;
      margin-top: 3rem;
    }
    
    .cta h2 {
      font-size: 1.75rem;
      margin-bottom: 1rem;
    }
    
    .cta-dates {
      background: rgba(255,255,255,0.2);
      padding: 1.25rem;
      border-radius: 12px;
      margin: 1.5rem 0;
      font-size: 1.1rem;
    }
    
    .cta-dates strong {
      color: #ffd9a0;
    }
    
    .cta-warning {
      font-size: 1.1rem;
      font-weight: 700;
      color: #ffd9a0;
    }
    
    footer {
      text-align: center;
      padding: 2rem;
      color: #8a847d;
      font-weight: 600;
    }
    
    footer code {
      background: #e8e2d9;
      padding: 0.2rem 0.5rem;
      border-radius: 6px;
      font-size: 0.85rem;
    }
    
    @keyframes pop {
      0% { transform: scale(0.8); opacity: 0.6; }
      50% { transform: scale(1.3); }
      100% { transform: scale(1); opacity: 1; }
    }
    
    .pop {
      animation: pop 0.3s ease-out;
    }
    
    @media (max-width: 768px) {
      header h1 {
        font-size: 1.75rem;
      }
      
      .controls {
        flex-direction: column;
        align-items: stretch;
      }
      
      .view-toggle {
        justify-content: center;
      }
      
      table {
        font-size: 0.8rem;
      }
      
      th, td {
        padding: 0.6rem 0.4rem;
      }
      
      .grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>

<header>
  <h1>‚ùÑÔ∏è Snow Machine Queenstown 2026 ‚õ∑Ô∏è</h1>
  <p>üè† Where to Stay ‚Ä¢ üö∂ Walkable ‚Ä¢ üëØ Group-friendly ‚Ä¢ üó≥Ô∏è Vote for your fave!</p>
</header>

<div class="dates-banner">
  üìÖ 8‚Äì15 September 2026 ‚Ä¢ üìç Queenstown, New Zealand
</div>

<div class="container">
  
  <div class="intro">
    <h2>üëã Hey legends!</h2>
    <p>
      Pick your vibe for <strong>Snow Machine Queenstown 2026</strong>! üéø
      Vote for your favourite spots ‚Äì votes are saved locally so you can screenshot and share! üì∏
      The goal: stay central üéØ, walk everywhere üö∂, apr√®s-ski access üçª, and recover space üò¥.
    </p>
  </div>

  <div class="controls">
    <div class="view-toggle">
      <button class="active" onclick="switchView('table')">üìä Table View</button>
      <button onclick="switchView('cards')">üÉè Card View</button>
    </div>
    <button class="reset-btn" onclick="resetVotes()">üîÑ Reset All Votes</button>
  </div>

  <!-- ============ TABLE VIEW ============ -->
  <div class="table-view active" id="table-view"></div>

  <!-- ============ CARD VIEW ============ -->
  <div class="card-view" id="card-view"></div>

  <!-- CTA Section -->
  <div class="cta">
    <h2>‚è∞ Booking Reality Check</h2>
    <div class="cta-dates">
      <p>üé´ <strong>Presale:</strong> Tue 3 Feb ‚Äì 5PM AEDT</p>
      <p>üåê <strong>General Sale:</strong> Wed 4 Feb ‚Äì 9AM AEDT</p>
    </div>
    <p class="cta-warning">üî• Apartments sell out FIRST! Melbourne crew will absolutely descend. Be ready to book fast! üèÉ‚Äç‚ôÇÔ∏èüí®</p>
  </div>

</div>

<footer>
  üèîÔ∏è Built with love for the Snow Machine 2026 crew ‚Ä¢ Votes saved in <code>localStorage</code> üíæ<br>
  No accounts, no backend, no tracking. Alpine rave democracy only! üéøüçª
</footer>

<script>
const sections = [
  {
    title: 'üéâ Social / Budget',
    emoji: 'üéí',
    description: 'Party vibes, meet new people, save $$$',
    items: [
      { id:'nomads', name:'Nomads Hostel', price:'$', priceLabel:'Budget', walk:'Central', tags:['üéâ Social', 'üí∞ Budget'] },
      { id:'absoloot', name:'Absoloot Hostel', price:'$', priceLabel:'Budget', walk:'Central', tags:['üéâ Social', 'üèîÔ∏è Views'] },
      { id:'adventure', name:'Adventure Hostel', price:'$', priceLabel:'Budget', walk:'Central', tags:['üéâ Social', '‚õ∑Ô∏è Ski Crowd'] },
      { id:'q2', name:'Q2 Hostel', price:'$', priceLabel:'Budget', walk:'Central', tags:['üõèÔ∏è Pods', 'üÜï Modern'] },
      { id:'lylo', name:'LyLo Queenstown', price:'$$', priceLabel:'Mid', walk:'Central', tags:['‚ú® Boutique', 'üì∏ Instagrammable'] }
    ]
  },
  {
    title: 'üè¢ Apartments / Group Friendly',
    emoji: 'üè†',
    description: 'Kitchen, space, perfect for squads',
    items: [
      { id:'gateway', name:'Gateway Apartments', price:'$$', priceLabel:'Mid', walk:'10‚Äì15 min', tags:['üëØ Groups', 'üç≥ Kitchen'] },
      { id:'bluepeaks', name:'Blue Peaks Lodge', price:'$$', priceLabel:'Mid', walk:'10 min', tags:['üèîÔ∏è Mountain Views', 'üÖøÔ∏è Parking'] },
      { id:'melbourne', name:'Melbourne Apartments', price:'$$$', priceLabel:'Premium', walk:'Central', tags:['‚ö° Ultra Central', '‚ú® Modern'] },
      { id:'highview', name:'Highview Apartments', price:'$$$', priceLabel:'Premium', walk:'10 min', tags:['üåÖ Lake Views', 'üìê Spacious'] },
      { id:'lakeridge', name:'Lakeridge Apartments', price:'$$$', priceLabel:'Premium', walk:'15 min', tags:['üèä Pool', 'üßñ Spa'] }
    ]
  },
  {
    title: 'üåÖ Hotels / Comfort',
    emoji: 'üõéÔ∏è',
    description: 'Breakfast included, daily housekeeping, zero effort',
    items: [
      { id:'peppers', name:'Peppers Beacon', price:'$$$', priceLabel:'Premium', walk:'Central', tags:['üç≥ Breakfast', 'üèãÔ∏è Gym'] },
      { id:'crowne', name:'Crowne Plaza', price:'$$$', priceLabel:'Premium', walk:'Central', tags:['‚ö° Central', 'üõéÔ∏è Full Service'] },
      { id:'novotel', name:'Novotel Queenstown', price:'$$$', priceLabel:'Premium', walk:'Central', tags:['üåä Lakefront', 'üçΩÔ∏è Restaurant'] },
      { id:'swiss', name:'Swiss-Belsuites Pounamu', price:'$$$', priceLabel:'Premium', walk:'Central', tags:['üßñ Spa', 'üõãÔ∏è Suites'] },
      { id:'hilton', name:'Hilton Queenstown', price:'$$$$', priceLabel:'Luxury', walk:'üöå Bus required', tags:['üíé Luxury', 'üåÖ Stunning Views'] }
    ]
  },
  {
    title: 'üè† Villas / Large Groups',
    emoji: 'üè∞',
    description: 'Big squads, house party energy, split the cost',
    items: [
      { id:'commonage', name:'Commonage Villas', price:'$$$$', priceLabel:'Luxury', walk:'10 min', tags:['üëØ 8-10 ppl', 'üî• Fireplace'] },
      { id:'villapukaki', name:'Villa Pukaki', price:'$$$$', priceLabel:'Luxury', walk:'10‚Äì15 min', tags:['üèîÔ∏è Mountain Views', 'üõÅ Hot Tub'] },
      { id:'lakehouse', name:'Lakehouse Villas', price:'$$$$', priceLabel:'Luxury', walk:'15 min', tags:['üåä Lakefront', 'üé± Games Room'] }
    ]
  }
];

function getVote(id) {
  return Number(localStorage.getItem('vote_' + id) || 0);
}

function getMaxVotes() {
  const allItems = sections.flatMap(s => s.items);
  return Math.max(0, ...allItems.map(i => getVote(i.id)));
}

function getPriceClass(label) {
  const classes = { 'Budget': 'budget', 'Mid': 'mid', 'Premium': 'premium', 'Luxury': 'luxury' };
  return classes[label] || 'mid';
}

function renderTableView() {
  const container = document.getElementById('table-view');
  const maxVotes = getMaxVotes();
  let html = '';

  sections.forEach(section => {
    html += `
      <div class="section-header">
        <span class="section-emoji">${section.emoji}</span>
        <h2>${section.title}</h2>
      </div>
      <table>
        <thead>
          <tr>
            <th>üè® Accommodation</th>
            <th>üí∞ Price</th>
            <th>üö∂ Walk</th>
            <th>üè∑Ô∏è Tags</th>
            <th>‚≠ê Votes</th>
          </tr>
        </thead>
        <tbody>
    `;

    section.items.forEach(item => {
      const count = getVote(item.id);
      const isTop = count > 0 && count === maxVotes;
      html += `
        <tr class="${isTop ? 'top-pick' : ''}">
          <td>
            <strong>${item.name}</strong>
            ${isTop ? '<span class="top-badge">üèÜ TOP PICK</span>' : ''}
          </td>
          <td class="price-cell">${item.price}</td>
          <td class="walk-time">${item.walk}</td>
          <td>${item.tags.map(t => `<span class="table-tag">${t}</span>`).join('')}</td>
          <td>
            <div class="vote-cell">
              <button onclick="vote('${item.id}')">Vote ‚≠ê</button>
              <span class="counter" id="${item.id}-count-table">${count}</span>
            </div>
          </td>
        </tr>
      `;
    });

    html += '</tbody></table>';
  });

  container.innerHTML = html;
}

function renderCardView() {
  const container = document.getElementById('card-view');
  const maxVotes = getMaxVotes();
  let html = '';

  sections.forEach(section => {
    html += `
      <div class="section-header">
        <span class="section-emoji">${section.emoji}</span>
        <h2>${section.title}</h2>
      </div>
      <p style="color:#6b6560; margin-bottom:1rem;">${section.description}</p>
      <div class="grid">
    `;

    section.items.forEach(item => {
      const count = getVote(item.id);
      const isTop = count > 0 && count === maxVotes;
      html += `
        <div class="card ${isTop ? 'top-pick' : ''}">
          ${isTop ? '<div class="card-badge">üèÜ TOP PICK</div>' : ''}
          <div class="card-header">
            <span class="card-emoji">${section.emoji}</span>
            <div>
              <h3>${item.name}</h3>
              <div class="card-meta">
                <span class="price-tag">${item.price} ${item.priceLabel}</span> ‚Ä¢ 
                <span class="walk-tag">üìç ${item.walk}</span>
              </div>
            </div>
          </div>
          <div class="tags">
            ${item.tags.map(t => `<span class="tag ${getPriceClass(item.priceLabel)}">${t}</span>`).join('')}
          </div>
          <div class="vote">
            <button onclick="vote('${item.id}')">Vote ‚≠ê</button>
            <span class="counter" id="${item.id}-count-card">${count}</span>
          </div>
        </div>
      `;
    });

    html += '</div>';
  });

  container.innerHTML = html;
}

function render() {
  renderTableView();
  renderCardView();
}

function vote(id) {
  const key = 'vote_' + id;
  const count = getVote(id) + 1;
  localStorage.setItem(key, count);
  
  // Update counters with animation
  document.querySelectorAll(`[id^="${id}-count"]`).forEach(el => {
    el.textContent = count;
    el.classList.remove('pop');
    void el.offsetWidth;
    el.classList.add('pop');
  });
  
  // Re-render to update TOP PICK badges
  render();
}

function resetVotes() {
  if (confirm('üóëÔ∏è Reset all votes? This cannot be undone!')) {
    Object.keys(localStorage)
      .filter(k => k.startsWith('vote_'))
      .forEach(k => localStorage.removeItem(k));
    render();
  }
}

function switchView(view) {
  const tableView = document.getElementById('table-view');
  const cardView = document.getElementById('card-view');
  const buttons = document.querySelectorAll('.view-toggle button');
  
  buttons.forEach(btn => btn.classList.remove('active'));
  
  if (view === 'table') {
    tableView.classList.add('active');
    cardView.classList.remove('active');
    buttons[0].classList.add('active');
  } else {
    tableView.classList.remove('active');
    cardView.classList.add('active');
    buttons[1].classList.add('active');
  }
}

// Initial render
render();
</script>
</body>
</html>
