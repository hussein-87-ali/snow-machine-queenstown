<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>üèîÔ∏è Snow Machine Queenstown 2026 ‚Äì Where to Stay</title>
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Nunito', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      background: linear-gradient(180deg, #faf8f5 0%, #f0ebe3 100%);
      color: #3d3a36;
      line-height: 1.7;
      min-height: 100vh;
    }
    
    header {
      background: linear-gradient(135deg, #5c8a6e, #7ba38a, #a8c5b5);
      padding: 3rem 1.5rem;
      text-align: center;
      border-bottom: 4px solid #4a7560;
    }
    
    header h1 {
      font-size: 2.5rem;
      font-weight: 800;
      color: #fff;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
      margin-bottom: 0.5rem;
    }
    
    header p {
      color: #e8f0eb;
      font-size: 1.1rem;
      font-weight: 600;
    }
    
    .dates-banner {
      background: #4a7560;
      color: #fff;
      padding: 0.75rem;
      text-align: center;
      font-weight: 700;
    }
    
    .container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 2rem 1.5rem;
    }
    
    .intro {
      background: #fff;
      border-radius: 16px;
      padding: 2rem;
      margin-bottom: 2rem;
      box-shadow: 0 4px 20px rgba(0,0,0,0.06);
      border-left: 5px solid #7ba38a;
    }
    
    .intro h2 {
      color: #5c8a6e;
      margin-bottom: 0.5rem;
    }
    
    .package-info {
      background: linear-gradient(135deg, #e8f0eb, #f5f0e8);
      border-radius: 12px;
      padding: 1.25rem;
      margin-top: 1rem;
    }
    
    .package-info h3 {
      color: #4a7560;
      font-size: 1rem;
      margin-bottom: 0.5rem;
    }
    
    .package-info ul {
      list-style: none;
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem 1.5rem;
    }
    
    .package-info li {
      font-size: 0.9rem;
    }
    
    .controls {
      display: flex;
      gap: 0.75rem;
      margin-bottom: 2rem;
      flex-wrap: wrap;
      align-items: center;
    }
    
    .view-toggle {
      display: flex;
      gap: 0.5rem;
      background: #e8e2d9;
      padding: 0.5rem;
      border-radius: 12px;
    }
    
    .view-toggle button {
      padding: 0.75rem 1.5rem;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      font-family: inherit;
      font-weight: 700;
      font-size: 1rem;
      transition: all 0.3s ease;
      background: transparent;
      color: #6b6560;
    }
    
    .view-toggle button.active {
      background: #5c8a6e;
      color: #fff;
      box-shadow: 0 4px 12px rgba(92, 138, 110, 0.3);
    }
    
    .view-toggle button:hover:not(.active) {
      background: rgba(92, 138, 110, 0.2);
    }
    
    .reset-btn {
      padding: 0.75rem 1.25rem;
      border: 2px solid #d4a5a5;
      border-radius: 10px;
      cursor: pointer;
      font-family: inherit;
      font-weight: 700;
      font-size: 0.9rem;
      background: #fdf8f8;
      color: #a85454;
      transition: all 0.3s ease;
    }
    
    .reset-btn:hover {
      background: #a85454;
      color: #fff;
    }
    
    .section-header {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      margin: 2.5rem 0 1.5rem 0;
      padding-bottom: 0.75rem;
      border-bottom: 3px solid #d4cdc3;
    }
    
    .section-header h2 {
      font-size: 1.5rem;
      color: #4a4540;
    }
    
    .section-emoji {
      font-size: 2rem;
    }
    
    /* TABLE VIEW */
    .table-view {
      display: none;
      overflow-x: auto;
    }
    
    .table-view.active {
      display: block;
    }
    
    table {
      width: 100%;
      border-collapse: collapse;
      background: #fff;
      border-radius: 16px;
      overflow: hidden;
      box-shadow: 0 4px 20px rgba(0,0,0,0.06);
      margin-bottom: 2rem;
    }
    
    th {
      background: #5c8a6e;
      color: #fff;
      padding: 0.85rem 0.75rem;
      text-align: left;
      font-weight: 700;
      font-size: 0.85rem;
      white-space: nowrap;
    }
    
    td {
      padding: 0.85rem 0.75rem;
      border-bottom: 1px solid #e8e2d9;
      vertical-align: middle;
      font-size: 0.9rem;
    }
    
    tr:last-child td {
      border-bottom: none;
    }
    
    tr:hover {
      background: #f8f6f3;
    }
    
    tr.top-pick {
      background: linear-gradient(90deg, #e8f5ed, #f8f6f3);
    }
    
    tr.top-pick td:first-child {
      border-left: 4px solid #5c8a6e;
    }
    
    .top-badge {
      display: inline-block;
      background: linear-gradient(135deg, #5c8a6e, #7ba38a);
      color: #fff;
      padding: 0.2rem 0.5rem;
      border-radius: 20px;
      font-size: 0.65rem;
      font-weight: 800;
      margin-left: 0.4rem;
      animation: pulse 2s infinite;
    }
    
    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.7; }
    }
    
    .price-cell {
      font-weight: 700;
      color: #5c8a6e;
      white-space: nowrap;
    }
    
    .stars {
      color: #d4a853;
      letter-spacing: -2px;
    }
    
    .location-cell {
      font-size: 0.8rem;
      color: #6b6560;
    }
    
    .sleeps-cell {
      text-align: center;
    }
    
    .vote-cell {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    
    /* CARD VIEW */
    .card-view {
      display: none;
    }
    
    .card-view.active {
      display: block;
    }
    
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(340px, 1fr));
      gap: 1.5rem;
      margin-bottom: 2rem;
    }
    
    .card {
      background: #fff;
      border-radius: 20px;
      padding: 1.5rem;
      box-shadow: 0 4px 20px rgba(0,0,0,0.06);
      border: 2px solid transparent;
      transition: all 0.3s ease;
      position: relative;
    }
    
    .card:hover {
      border-color: #7ba38a;
      transform: translateY(-4px);
      box-shadow: 0 12px 32px rgba(0,0,0,0.1);
    }
    
    .card.top-pick {
      border-color: #5c8a6e;
      box-shadow: 0 8px 32px rgba(92, 138, 110, 0.25);
    }
    
    .card-badge {
      position: absolute;
      top: -10px;
      right: 16px;
      background: linear-gradient(135deg, #5c8a6e, #7ba38a);
      color: #fff;
      padding: 0.4rem 0.8rem;
      border-radius: 20px;
      font-size: 0.75rem;
      font-weight: 800;
      box-shadow: 0 4px 12px rgba(92, 138, 110, 0.4);
    }
    
    .card-header {
      margin-bottom: 1rem;
    }
    
    .card-title-row {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 0.5rem;
      margin-bottom: 0.5rem;
    }
    
    .card h3 {
      color: #3d3a36;
      font-size: 1.15rem;
      margin: 0;
    }
    
    .card-stars {
      color: #d4a853;
      font-size: 1rem;
      letter-spacing: -1px;
      white-space: nowrap;
    }
    
    .card-price-big {
      background: linear-gradient(135deg, #5c8a6e, #4a7560);
      color: #fff;
      padding: 0.5rem 1rem;
      border-radius: 10px;
      display: inline-block;
      margin-bottom: 0.75rem;
    }
    
    .card-price-big .amount {
      font-size: 1.4rem;
      font-weight: 800;
    }
    
    .card-price-big .per {
      font-size: 0.8rem;
      opacity: 0.9;
    }
    
    .card-details-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 0.5rem 1rem;
      margin-bottom: 1rem;
      font-size: 0.85rem;
    }
    
    .card-detail {
      display: flex;
      align-items: center;
      gap: 0.4rem;
    }
    
    .card-detail .label {
      color: #8a847d;
    }
    
    .card-detail .value {
      color: #3d3a36;
      font-weight: 600;
    }
    
    .card-features {
      display: flex;
      flex-wrap: wrap;
      gap: 0.4rem;
      margin-bottom: 1rem;
    }
    
    .feature-tag {
      display: inline-block;
      background: #e8f0eb;
      color: #4a7560;
      padding: 0.25rem 0.6rem;
      border-radius: 20px;
      font-size: 0.75rem;
      font-weight: 700;
    }
    
    .feature-tag.highlight {
      background: #f5ebe0;
      color: #8b7355;
    }
    
    .card-description {
      font-size: 0.85rem;
      color: #6b6560;
      margin-bottom: 1rem;
      line-height: 1.5;
    }
    
    .card-footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding-top: 1rem;
      border-top: 1px solid #e8e2d9;
    }
    
    .card-link {
      color: #5c8a6e;
      font-weight: 700;
      text-decoration: none;
      font-size: 0.85rem;
    }
    
    .card-link:hover {
      text-decoration: underline;
    }
    
    .vote {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    
    .vote button, table button {
      background: linear-gradient(135deg, #5c8a6e, #7ba38a);
      border: none;
      color: #fff;
      padding: 0.45rem 0.9rem;
      border-radius: 25px;
      cursor: pointer;
      font-family: inherit;
      font-weight: 700;
      font-size: 0.8rem;
      transition: all 0.3s ease;
    }
    
    .vote button:hover, table button:hover {
      transform: scale(1.05);
      box-shadow: 0 6px 20px rgba(92, 138, 110, 0.4);
    }
    
    .counter {
      font-size: 1.1rem;
      font-weight: 800;
      color: #5c8a6e;
      min-width: 20px;
    }
    
    .cta {
      background: linear-gradient(135deg, #5c8a6e, #4a7560);
      border-radius: 20px;
      padding: 2.5rem;
      color: #fff;
      text-align: center;
      margin-top: 3rem;
    }
    
    .cta h2 {
      font-size: 1.75rem;
      margin-bottom: 1rem;
    }
    
    .cta-dates {
      background: rgba(255,255,255,0.2);
      padding: 1.25rem;
      border-radius: 12px;
      margin: 1.5rem 0;
      font-size: 1.1rem;
    }
    
    .cta-dates strong {
      color: #ffd9a0;
    }
    
    .cta-warning {
      font-size: 1.1rem;
      font-weight: 700;
      color: #ffd9a0;
    }
    
    .cta-btn {
      display: inline-block;
      background: #fff;
      color: #4a7560;
      padding: 1rem 2rem;
      border-radius: 30px;
      font-weight: 800;
      text-decoration: none;
      margin-top: 1rem;
      transition: all 0.3s ease;
    }
    
    .cta-btn:hover {
      transform: scale(1.05);
      box-shadow: 0 8px 24px rgba(0,0,0,0.2);
    }
    
    footer {
      text-align: center;
      padding: 2rem;
      color: #8a847d;
      font-weight: 600;
    }
    
    footer code {
      background: #e8e2d9;
      padding: 0.2rem 0.5rem;
      border-radius: 6px;
      font-size: 0.85rem;
    }
    
    @keyframes pop {
      0% { transform: scale(0.8); opacity: 0.6; }
      50% { transform: scale(1.3); }
      100% { transform: scale(1); opacity: 1; }
    }
    
    .pop {
      animation: pop 0.3s ease-out;
    }
    
    @media (max-width: 768px) {
      header h1 {
        font-size: 1.75rem;
      }
      
      .controls {
        flex-direction: column;
        align-items: stretch;
      }
      
      .view-toggle {
        justify-content: center;
      }
      
      table {
        font-size: 0.75rem;
      }
      
      th, td {
        padding: 0.5rem 0.4rem;
      }
      
      .grid {
        grid-template-columns: 1fr;
      }
      
      .card-details-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>

<header>
  <h1>‚ùÑÔ∏è Snow Machine Queenstown 2026 ‚õ∑Ô∏è</h1>
  <p>üè† Official Accommodation Guide ‚Ä¢ üó≥Ô∏è Vote for your fave!</p>
</header>

<div class="dates-banner">
  üìÖ 8‚Äì15 September 2026 ‚Ä¢ üìç Queenstown, New Zealand ‚Ä¢ üí∞ Prices in AUD
</div>

<div class="container">
  
  <div class="intro">
    <h2>üëã Hey legends!</h2>
    <p>
      All prices are <strong>official Snow Machine packages</strong> from <a href="https://nz.snow-machine.com/packages/" target="_blank" style="color:#5c8a6e;">nz.snow-machine.com</a>. Vote for your favourites ‚Äì votes save locally so you can screenshot and share! üì∏
    </p>
    <div class="package-info">
      <h3>üì¶ All Packages Include:</h3>
      <ul>
        <li>üõèÔ∏è 7 nights accommodation</li>
        <li>üéø 4-day lift pass (Remarkables + Coronet Peak)</li>
        <li>‚õ∑Ô∏è Entry to all apr√®s stages on-piste</li>
        <li>üéâ 3 nights at Main Arena</li>
      </ul>
    </div>
  </div>

  <div class="controls">
    <div class="view-toggle">
      <button class="active" onclick="switchView('table')">üìä Quick Compare</button>
      <button onclick="switchView('cards')">üÉè Full Details</button>
    </div>
    <button class="reset-btn" onclick="resetVotes()">üîÑ Reset Votes</button>
  </div>

  <!-- TABLE VIEW -->
  <div class="table-view active" id="table-view"></div>

  <!-- CARD VIEW -->
  <div class="card-view" id="card-view"></div>

  <!-- CTA Section -->
  <div class="cta">
    <h2>‚è∞ Booking Reality Check</h2>
    <div class="cta-dates">
      <p>üé´ <strong>Presale:</strong> Tue 3 Feb ‚Äì 5PM AEDT</p>
      <p>üåê <strong>General Sale:</strong> Wed 4 Feb ‚Äì 9AM AEDT</p>
    </div>
    <p class="cta-warning">üî• Popular spots sell out FAST! Be ready to book!</p>
    <a href="https://arep.co/p/snow-machine-queenstown-2026" target="_blank" class="cta-btn">üéüÔ∏è Sign Up for Pre-Sale</a>
  </div>

</div>

<footer>
  üèîÔ∏è Built for the Snow Machine 2026 crew ‚Ä¢ Votes saved in <code>localStorage</code> üíæ<br>
  Prices from <a href="https://nz.snow-machine.com/packages/" target="_blank" style="color:#5c8a6e;">Snow Machine Official</a> ‚Ä¢ No tracking, just vibes üéø
</footer>

<script>
const sections = [
  {
    title: 'üéí Hostels & Social',
    emoji: 'üéâ',
    description: 'Meet new people, party vibes, budget-friendly',
    items: [
      { id:'nomads', name:'Nomads Hostel', price:1034, stars:3, type:'Hostel', sleeps:'4-6', location:'Central Queenstown', walk:'2 min to town', features:['üéâ Social atmosphere','üç≥ Shared kitchen','üë• Dorm style','üéÆ Common areas'], desc:'The OG backpacker spot. Social vibes, central location, meet legends from everywhere.', link:'https://nz.snow-machine.com/accommodation/nomads-hostel-bronze-package/' },
      { id:'pinewood', name:'Pinewood Lodge', price:1128, stars:3, type:'Lodge', sleeps:'2-4', location:'Fernhill', walk:'10 min to town', features:['üèîÔ∏è Mountain views','üÖøÔ∏è Free parking','üå≤ Quiet setting','‚òï Continental brekkie'], desc:'Peaceful lodge vibes with mountain views. Good for those who want sleep between parties.', link:'https://nz.snow-machine.com/accommodation/pinewood-lodge/' },
      { id:'absoloot', name:'Absoloot Hostel', price:1180, stars:3, type:'Hostel', sleeps:'4-8', location:'Central Queenstown', walk:'2 min to town', features:['‚ö° Ultra central','üéâ Party hostel','üç∫ Bar onsite','üëØ Social events'], desc:'Right in the action! Known for its party atmosphere and social events.', link:'https://nz.snow-machine.com/accommodation/absoloot-hostel-bronze-package/' },
      { id:'adventure', name:'Adventure Hostel', price:1196, stars:3, type:'Hostel', sleeps:'4-6', location:'Central Queenstown', walk:'3 min to town', features:['‚õ∑Ô∏è Ski crowd','üéø Gear storage','üî• Fireplace','üç≥ Kitchen'], desc:'Popular with the ski/snowboard crowd. Gear storage and cozy fireplace.', link:'https://nz.snow-machine.com/accommodation/adventure-hostel/' },
      { id:'q2', name:'Q2 Hostel', price:1196, stars:3.5, type:'Hostel', sleeps:'2-4', location:'Central Queenstown', walk:'2 min to town', features:['üÜï Modern pods','üîí Privacy screens','üì± USB charging','üõãÔ∏è Lounge'], desc:'Modern pod-style hostel. More privacy than traditional dorms.', link:'https://nz.snow-machine.com/accommodation/q2-hostel-2/' },
      { id:'hakalake', name:'Haka House Lakefront', price:1212, stars:3.5, type:'Hostel', sleeps:'4-6', location:'Lakefront', walk:'5 min to town', features:['üåä Lake views','‚òï Free brekkie','üßñ Sauna','üéØ Central'], desc:'Lakefront location with breakfast included. Sauna for post-ski recovery!', link:'https://nz.snow-machine.com/accommodation/haka-house-lakefront/' },
      { id:'haka', name:'Haka House', price:1212, stars:3.5, type:'Hostel', sleeps:'4-6', location:'Central', walk:'4 min to town', features:['‚òï Free brekkie','üëØ Social','üéÆ Games room','üç≥ Kitchen'], desc:'Reliable Haka quality. Breakfast included, social spaces, good vibes.', link:'https://nz.snow-machine.com/accommodation/haka-house/' },
      { id:'lylo', name:'LyLo Queenstown', price:1280, stars:4, type:'Boutique Hostel', sleeps:'2-4', location:'Central Queenstown', walk:'2 min to town', features:['‚ú® Design-focused','üì∏ Instagrammable','üç∏ Bar','üõèÔ∏è Premium pods'], desc:'Boutique hostel with serious style. Instagram-worthy interiors, rooftop bar.', link:'https://nz.snow-machine.com/accommodation/lylo/' }
    ]
  },
  {
    title: 'üè¢ Apartments & Units',
    emoji: 'üè†',
    description: 'Kitchen facilities, more space, great for groups',
    items: [
      { id:'gateway', name:'Gateway Apartments', price:1236, stars:3.5, type:'Apartment', sleeps:'4-6', location:'Frankton Road', walk:'10-15 min', features:['üç≥ Full kitchen','üõãÔ∏è Living area','üÖøÔ∏è Parking','üèîÔ∏è Views'], desc:'Solid apartments with full kitchen. Good value for groups who want to self-cater.', link:'https://nz.snow-machine.com/accommodation/gateway-apartments/' },
      { id:'villatuke', name:'Villa Tuke', price:1328, stars:4, type:'Villa', sleeps:'6', location:'Queenstown Hill', walk:'12 min', features:['üè° 3 bedroom','üç≥ Full kitchen','üåÑ Views','üÖøÔ∏è Parking'], desc:'Proper villa vibes. 3 bedrooms, full kitchen, great for a tight crew.', link:'https://nz.snow-machine.com/accommodation/villa-tuke-3-bedroom/' },
      { id:'pounamu', name:'Pounamu Units', price:1360, stars:4, type:'Apartment', sleeps:'2-4', location:'Central', walk:'3 min to town', features:['‚ö° Central','üç≥ Kitchenette','üõÅ Ensuite','üì∫ Smart TV'], desc:'Central location, modern units. Walk to everything!', link:'https://nz.snow-machine.com/accommodation/pounamu-queenstown/' },
      { id:'bluepeaks', name:'Blue Peaks Lodge', price:1393, stars:3.5, type:'Lodge', sleeps:'2-4', location:'Central', walk:'5 min to town', features:['üèîÔ∏è Mountain views','üÖøÔ∏è Parking','üç≥ Kitchen','üò¥ Quiet'], desc:'Lodge-style with mountain views. Good for those wanting peace and quiet.', link:'https://nz.snow-machine.com/accommodation/blue-peaks-lodge/' },
      { id:'villadellago', name:'Villa Del Lago', price:1395, stars:4, type:'Villa', sleeps:'6', location:'Lakeside', walk:'8 min', features:['üåä Lake views','üè° 3 bed','üî• Fireplace','üç≥ Kitchen'], desc:'Lakeside villa with fireplace. Cozy AF for apr√®s-ski hangs.', link:'https://nz.snow-machine.com/accommodation/villa-del-lago/' },
      { id:'villapukaki', name:'Villa Pukaki', price:1400, stars:4, type:'Villa', sleeps:'6', location:'Queenstown Hill', walk:'10 min', features:['üè° 3 bedroom','üõÅ Hot tub','üåÑ Views','üç≥ Kitchen'], desc:'Villa with HOT TUB! Perfect for post-ski soaks with the crew.', link:'https://nz.snow-machine.com/accommodation/villa-pukaki-3-bedroom/' },
      { id:'marina', name:'Marina Units', price:1413, stars:4, type:'Apartment', sleeps:'4', location:'Marina', walk:'7 min', features:['‚õµ Marina views','üç≥ Kitchen','üõãÔ∏è Spacious','üÖøÔ∏è Parking'], desc:'Marina location with water views. Modern and spacious.', link:'https://nz.snow-machine.com/accommodation/marina-complex/' },
      { id:'koura', name:'Koura Apartments', price:1417, stars:4, type:'Apartment', sleeps:'4-6', location:'Central', walk:'4 min to town', features:['‚ö° Central','‚ú® Modern','üç≥ Kitchen','üõÅ Quality'], desc:'Quality central apartments. Modern fit-out, walk to everything.', link:'https://nz.snow-machine.com/accommodation/koura-apartments/' },
      { id:'nugget', name:'The Nugget', price:1432, stars:4, type:'Apartment', sleeps:'4', location:'Central', walk:'3 min to town', features:['‚ö° Prime location','‚ú® Stylish','üç≥ Kitchen','üåÜ Town views'], desc:'Prime central location, stylish interiors. Live your best life.', link:'https://nz.snow-machine.com/accommodation/the-nugget/' },
      { id:'highview', name:'Highview Apartments', price:1571, stars:4, type:'Apartment', sleeps:'4-6', location:'Queenstown Hill', walk:'10 min', features:['üåÑ Panoramic views','üìê Spacious','üç≥ Full kitchen','üÖøÔ∏è Parking'], desc:'Panoramic views of the lake and mountains. Worth the short walk!', link:'https://nz.snow-machine.com/accommodation/highview-apartments/' },
      { id:'melbourne', name:'Melbourne Apartments', price:1576, stars:4, type:'Apartment', sleeps:'6', location:'Central', walk:'2 min to town', features:['‚ö° Ultra central','üè° 3 bed','‚ú® Modern','üç≥ Kitchen'], desc:'3-bed apartment RIGHT in town. Perfect for a crew who wants convenience.', link:'https://nz.snow-machine.com/accommodation/15-melbourne-unit-3-3-bedroom/' },
      { id:'waterfront', name:'Waterfront Apartments', price:1604, stars:4.5, type:'Apartment', sleeps:'4-6', location:'Lakefront', walk:'5 min', features:['üåä Lakefront','‚ú® Premium','üç≥ Kitchen','üõÅ Luxury bath'], desc:'Premium lakefront living. Wake up to lake views every day!', link:'https://nz.snow-machine.com/accommodation/the-waterfront/' },
      { id:'lakeridge', name:'Lakeridge Apartments', price:1668, stars:4, type:'Apartment', sleeps:'6', location:'Fernhill', walk:'12 min', features:['üåä Lake views','üè° 3 bed','üèä Pool','üßñ Spa'], desc:'Lake views, pool AND spa! Recovery game strong.', link:'https://nz.snow-machine.com/accommodation/lakeridge-3-bedroom-std-lakeview-apartment/' }
    ]
  },
  {
    title: 'üè® Hotels',
    emoji: 'üõéÔ∏è',
    description: 'Breakfast, daily housekeeping, zero effort required',
    items: [
      { id:'copthorne', name:'Copthorne Hotel Lakefront', price:1386, stars:4, type:'Hotel', sleeps:'2', location:'Lakefront', walk:'5 min', features:['üåä Lakefront','üç≥ Breakfast opt','üõéÔ∏è Room service','üèä Pool'], desc:'Solid 4-star lakefront hotel. Pool and room service for the win.', link:'https://nz.snow-machine.com/accommodation/copthorne-hotel-and-resort-queenstown-lakefront/' },
      { id:'mipad', name:'Mi Pad', price:1484, stars:4, type:'Hotel', sleeps:'2', location:'Central', walk:'2 min to town', features:['üì± Tech-forward','‚ú® Modern','‚òï Caf√©','üéØ Central'], desc:'Modern tech-forward hotel. Sleek design, perfect location.', link:'https://nz.snow-machine.com/accommodation/mi-pad/' },
      { id:'doubletree', name:'DoubleTree by Hilton', price:1492, stars:4, type:'Hotel', sleeps:'2', location:'Central', walk:'5 min', features:['üç™ Famous cookies','üç≥ Brekkie incl','üèãÔ∏è Gym','üõéÔ∏è Hilton quality'], desc:'Hilton quality with famous warm cookies on arrival! Breakfast included.', link:'https://nz.snow-machine.com/accommodation/doubletree-by-hilton-breakfast-included/' },
      { id:'laquinta', name:'La Quinta by Wyndham', price:1492, stars:4, type:'Hotel', sleeps:'2-4', location:'Central', walk:'4 min', features:['‚ú® Modern','üç≥ Brekkie opt','üõãÔ∏è Suites avail','üÖøÔ∏è Parking'], desc:'Modern Wyndham property. Good balance of quality and value.', link:'https://nz.snow-machine.com/accommodation/la-quinta-by-wyndham/' },
      { id:'heartland', name:'Heartland Hotel', price:1545, stars:3.5, type:'Hotel', sleeps:'2', location:'Central', walk:'3 min', features:['üéØ Central','üç≥ Restaurant','üõéÔ∏è Room service','üí∞ Value'], desc:'No-frills hotel in prime location. Does exactly what it says.', link:'https://nz.snow-machine.com/accommodation/hartland-hotel-queenstown-7-night-package/' },
      { id:'holidayinn', name:'Holiday Inn Frankton', price:1595, stars:4, type:'Hotel', sleeps:'2', location:'Frankton Road', walk:'8 min', features:['üç≥ Brekkie incl','üèãÔ∏è Gym','üÖøÔ∏è Parking','üõéÔ∏è IHG quality'], desc:'Reliable Holiday Inn quality. Breakfast included!', link:'https://nz.snow-machine.com/accommodation/holiday-inn-frankton-road-breakfast-included/' },
      { id:'swissbelsuites', name:'Swiss-Belsuites Pounamu', price:1598, stars:4.5, type:'Hotel', sleeps:'2-4', location:'Central', walk:'2 min to town', features:['‚ö° Prime location','üßñ Spa','üõãÔ∏è Suites','‚ú® Upscale'], desc:'Upscale suites in prime location. Spa facilities for recovery days.', link:'https://nz.snow-machine.com/accommodation/swiss-belsuites-pounamu/' },
      { id:'peppers', name:'Peppers Beacon', price:1615, stars:4.5, type:'Hotel', sleeps:'2-4', location:'Central', walk:'3 min', features:['‚ú® Premium','üç≥ Restaurant','üèãÔ∏è Gym','üåä Lake views'], desc:'Premium hotel with restaurant, gym, and lake views. Treat yourself!', link:'https://nz.snow-machine.com/accommodation/peppers-beacon/' },
      { id:'ramada', name:'Ramada Central', price:1624, stars:4, type:'Hotel', sleeps:'2-4', location:'Central', walk:'1 min to town', features:['‚ö° ULTRA central','‚ú® Modern','üç≥ Kitchen','üõãÔ∏è Suites'], desc:'Literally in the middle of town. Can\'t get more central than this!', link:'https://nz.snow-machine.com/accommodation/ramada-queenstown-central/' },
      { id:'sudima', name:'Sudima', price:1648, stars:4.5, type:'Hotel', sleeps:'2', location:'Central', walk:'3 min', features:['üç≥ Brekkie incl','‚ôø Accessible','üåø Eco-friendly','‚ú® Modern'], desc:'Eco-friendly luxury with breakfast included. Modern and accessible.', link:'https://nz.snow-machine.com/accommodation/sudima-breakfast-included/' },
      { id:'scenic', name:'Scenic Suites', price:1664, stars:4.5, type:'Hotel', sleeps:'2-4', location:'Central', walk:'4 min', features:['üåÑ Views','üõãÔ∏è Suites','üç≥ Restaurant','üßñ Spa'], desc:'Scenic views, spacious suites, spa facilities. Living large!', link:'https://nz.snow-machine.com/accommodation/scenic-suites/' },
      { id:'crowne', name:'Crowne Plaza', price:1743, stars:4.5, type:'Hotel', sleeps:'2', location:'Central', walk:'2 min to town', features:['üëë IHG Premium','üç≥ Restaurant','üèãÔ∏è Gym','üõéÔ∏è Full service'], desc:'Premium IHG property. Full service hotel experience.', link:'https://nz.snow-machine.com/accommodation/crowne-plaza/' },
      { id:'hilton', name:'Hilton Queenstown', price:1757, stars:5, type:'Hotel', sleeps:'2', location:'Kawarau Village', walk:'üöå Bus needed', features:['üíé 5-star luxury','üç≥ Brekkie incl','üåä Lakefront','üßñ Spa'], desc:'5-star lakefront luxury with breakfast. Bus to town but SO worth it for the experience.', link:'https://nz.snow-machine.com/accommodation/hilton-queenstown-breakfast-included/' },
      { id:'novotel', name:'Novotel', price:1929, stars:4.5, type:'Hotel', sleeps:'2', location:'Lakefront', walk:'5 min', features:['üåä Lakefront','üç≥ Restaurant','üèä Pool','‚ú® Premium'], desc:'Premium lakefront Novotel. Pool, restaurant, all the amenities.', link:'https://nz.snow-machine.com/accommodation/novotel/' },
      { id:'rees', name:'The Rees', price:1776, stars:5, type:'Hotel', sleeps:'2-4', location:'Lakefront', walk:'üöå Bus needed', features:['üíé 5-star','üåä Lake views','üçΩÔ∏è Fine dining','üßñ Spa'], desc:'Ultimate luxury lakefront property. Fine dining, spa, incredible views.', link:'https://nz.snow-machine.com/accommodation/the-rees/' }
    ]
  },
  {
    title: 'üè∞ Luxury Villas & Houses',
    emoji: 'üíé',
    description: 'Baller status, hot tubs, incredible views, split with the crew',
    items: [
      { id:'commonage', name:'Commonage Villas', price:1898, stars:4.5, type:'Villa', sleeps:'6', location:'Commonage', walk:'10 min', features:['üè° 3 bed villa','üî• Fireplace','üåÑ Views','üç≥ Full kitchen'], desc:'Stunning villa with fireplace and views. Perfect for a crew of 6.', link:'https://nz.snow-machine.com/accommodation/commonage-villas-3-bedroom/' },
      { id:'lakehouse', name:'Lakehouse Villas', price:1862, stars:4.5, type:'Villa', sleeps:'6-8', location:'Lakeside', walk:'12 min', features:['üåä Lakefront','üè° Spacious','üî• Fireplace','üé± Games'], desc:'Lakefront villa life. Space for the whole squad, games room included.', link:'https://nz.snow-machine.com/accommodation/lakehouse-1/' },
      { id:'viewsspa', name:'The Views and Spa', price:2146, stars:5, type:'Villa', sleeps:'8', location:'Queenstown Hill', walk:'15 min', features:['üõÅ Hot tub','üåÑ Incredible views','üè° 4 bed','üíé Luxury'], desc:'4-bed luxury villa with HOT TUB and incredible views. This is the dream.', link:'https://nz.snow-machine.com/accommodation/the-views-and-spa-4-bedroom/' },
      { id:'shotover', name:'Shotover Penthouse & Spa', price:2365, stars:5, type:'Penthouse', sleeps:'6', location:'Central', walk:'3 min', features:['üõÅ Private spa','üåÜ Penthouse','üíé Ultra luxury','‚ú® Designer'], desc:'THE baller option. Penthouse with private spa. Ultimate flex.', link:'https://nz.snow-machine.com/accommodation/shotover-penthouse-and-spa-3-bedroom/' }
    ]
  }
];

function getVote(id) {
  return Number(localStorage.getItem('vote_' + id) || 0);
}

function getMaxVotes() {
  const allItems = sections.flatMap(s => s.items);
  return Math.max(0, ...allItems.map(i => getVote(i.id)));
}

function renderStars(count) {
  const full = Math.floor(count);
  const half = count % 1 >= 0.5;
  return '‚òÖ'.repeat(full) + (half ? '¬Ω' : '');
}

function renderTableView() {
  const container = document.getElementById('table-view');
  const maxVotes = getMaxVotes();
  let html = '';

  sections.forEach(section => {
    html += `
      <div class="section-header">
        <span class="section-emoji">${section.emoji}</span>
        <h2>${section.title}</h2>
      </div>
      <table>
        <thead>
          <tr>
            <th>üè® Name</th>
            <th>‚≠ê</th>
            <th>üí∞ Package</th>
            <th>üíµ /Night</th>
            <th>üë•</th>
            <th>üìç Location</th>
            <th>üó≥Ô∏è</th>
          </tr>
        </thead>
        <tbody>
    `;

    section.items.forEach(item => {
      const count = getVote(item.id);
      const isTop = count > 0 && count === maxVotes;
      const perNight = Math.round(item.price / 7);
      html += `
        <tr class="${isTop ? 'top-pick' : ''}">
          <td>
            <strong>${item.name}</strong>
            ${isTop ? '<span class="top-badge">üèÜ TOP</span>' : ''}
          </td>
          <td><span class="stars">${renderStars(item.stars)}</span></td>
          <td class="price-cell">$${item.price.toLocaleString()}</td>
          <td class="price-cell">~$${perNight}</td>
          <td class="sleeps-cell">${item.sleeps}</td>
          <td class="location-cell">${item.walk}</td>
          <td>
            <div class="vote-cell">
              <button onclick="vote('${item.id}')">+1</button>
              <span class="counter" id="${item.id}-count-table">${count}</span>
            </div>
          </td>
        </tr>
      `;
    });

    html += '</tbody></table>';
  });

  container.innerHTML = html;
}

function renderCardView() {
  const container = document.getElementById('card-view');
  const maxVotes = getMaxVotes();
  let html = '';

  sections.forEach(section => {
    html += `
      <div class="section-header">
        <span class="section-emoji">${section.emoji}</span>
        <h2>${section.title}</h2>
      </div>
      <p style="color:#6b6560; margin-bottom:1.5rem;">${section.description}</p>
      <div class="grid">
    `;

    section.items.forEach(item => {
      const count = getVote(item.id);
      const isTop = count > 0 && count === maxVotes;
      const perNight = Math.round(item.price / 7);
      const perNightPp = item.sleeps.includes('-') ? 
        Math.round(perNight / parseInt(item.sleeps.split('-')[1])) :
        Math.round(perNight / parseInt(item.sleeps));
      
      html += `
        <div class="card ${isTop ? 'top-pick' : ''}">
          ${isTop ? '<div class="card-badge">üèÜ TOP PICK</div>' : ''}
          <div class="card-header">
            <div class="card-title-row">
              <h3>${item.name}</h3>
              <span class="card-stars">${renderStars(item.stars)}</span>
            </div>
            <div class="card-price-big">
              <span class="amount">$${item.price.toLocaleString()}</span>
              <span class="per">pp / 7 nights</span>
            </div>
          </div>
          
          <div class="card-details-grid">
            <div class="card-detail">
              <span class="label">üíµ Per night:</span>
              <span class="value">~$${perNight} total</span>
            </div>
            <div class="card-detail">
              <span class="label">üõèÔ∏è Type:</span>
              <span class="value">${item.type}</span>
            </div>
            <div class="card-detail">
              <span class="label">üë• Sleeps:</span>
              <span class="value">${item.sleeps} people</span>
            </div>
            <div class="card-detail">
              <span class="label">üìç Walk:</span>
              <span class="value">${item.walk}</span>
            </div>
            <div class="card-detail">
              <span class="label">üó∫Ô∏è Area:</span>
              <span class="value">${item.location}</span>
            </div>
            <div class="card-detail">
              <span class="label">‚≠ê Rating:</span>
              <span class="value">${item.stars}-star</span>
            </div>
          </div>
          
          <div class="card-features">
            ${item.features.map(f => `<span class="feature-tag">${f}</span>`).join('')}
          </div>
          
          <p class="card-description">${item.desc}</p>
          
          <div class="card-footer">
            <a href="${item.link}" target="_blank" class="card-link">üîó View on Snow Machine ‚Üí</a>
            <div class="vote">
              <button onclick="vote('${item.id}')">Vote ‚≠ê</button>
              <span class="counter" id="${item.id}-count-card">${count}</span>
            </div>
          </div>
        </div>
      `;
    });

    html += '</div>';
  });

  container.innerHTML = html;
}

function render() {
  renderTableView();
  renderCardView();
}

function vote(id) {
  const key = 'vote_' + id;
  const count = getVote(id) + 1;
  localStorage.setItem(key, count);
  
  document.querySelectorAll(`[id^="${id}-count"]`).forEach(el => {
    el.textContent = count;
    el.classList.remove('pop');
    void el.offsetWidth;
    el.classList.add('pop');
  });
  
  render();
}

function resetVotes() {
  if (confirm('üóëÔ∏è Reset all votes? This cannot be undone!')) {
    Object.keys(localStorage)
      .filter(k => k.startsWith('vote_'))
      .forEach(k => localStorage.removeItem(k));
    render();
  }
}

function switchView(view) {
  const tableView = document.getElementById('table-view');
  const cardView = document.getElementById('card-view');
  const buttons = document.querySelectorAll('.view-toggle button');
  
  buttons.forEach(btn => btn.classList.remove('active'));
  
  if (view === 'table') {
    tableView.classList.add('active');
    cardView.classList.remove('active');
    buttons[0].classList.add('active');
  } else {
    tableView.classList.remove('active');
    cardView.classList.add('active');
    buttons[1].classList.add('active');
  }
}

render();
</script>
</body>
</html>
